<%-- 
    Document   : Announcement Landing
    Author     : Vengatesh K
--%>

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<%@include file="/WEB-INF/common/taglibs.jsp"%>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="viewport" content="width=device-width">
<link rel="icon" type="img/ico" href="images/ex.ico">
<link href="css/normalize.css" rel="stylesheet">
<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/style.css" rel="stylesheet">
<link href="css/menu.css" rel="stylesheet">
<link href="css/font-awesome.css" rel="stylesheet">
<style>
.pp{
padding-top:5px;
}
#main_body { 
  background: url("images/collage.jpg") no-repeat center center fixed; 
  -webkit-background-size: cover;
  -moz-background-size: cover;
  -o-background-size: cover;
  background-size: cover;

}
#preview {
	background-color: #fff;
	display: block;
	margin-top: -75px;
	float: right;
	margin-right: 5px;
	width: 200px;
	position: relative;
}

#fileinfo,#error,#error2,#abort,#warnsize,#none {
	color: #aaa;
	display: none;
	font-size: 10pt;
	font-style: italic;
	margin-top: 10px;
}

@media only screen and (max-width:400px) {
	#preview {
		background-color: #fff;
		display: block;
		margin-left: 82px;
		margin-top: 50px;
		float: left;
		width: 200px;
	}
}

@media only screen and (max-width:350px) {
	#preview {
		background-color: #fff;
		display: block;
		margin-left: 35px;
		float: left;
		width: 200px;
	}
}
</style>
<script src="js/jquery.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
 
  ga('create', 'UA-58259459-1', 'auto');
  ga('send', 'pageview');
 </script>
<title>Announcement Landing</title>
</head>
<body>
<div class="container-fluid">
<!-- col-lg-  col-md-  col-sm-  col-xs- -->
<!-- col-lg-pull-  col-md-pull-  col-sm-pull-  col-xs-pull- -->
<!-- col-lg-push-  col-md-push-  col-sm-push-  col-xs-push- -->
<!-- visible-lg-  visible-md-  visible-sm-  visible-xs- --> 
<!-- hidden-lg hidden-md hidden-sm hidden-xs -->
<!-- <img src="" 
	data-position="" data-in="" data-delay="" data-step="" data-out=""> -->
	<!-- <p class="small"
		data-position="" data-in="" data-delay="" data-step="" data-out="">
								
	</p> -->





	<%@include file="/WEB-INF/common/header_back.jsp"%>
	<%@include file="/WEB-INF/common/menu.jsp"%>
	<!-- <div class="row clearfix">
		<div class="col-md-12 column" style="border-bottom: 2px solid #e3e3e3;padding-bottom:3px">		
			<div id='cssmenu' class="pull-right" style="margin-right: 15px;">
<ul>
   <li><a  href='dashboard' id="loginbut">Dashboard</a></li>
   <li class='has-sub'><a href='javascript:void(0)'>Profile</a>
      <ul>
		<li><a href="personal">Personal</a></li>
		<li><a href="address">Address</a></li>
		<li><a href="seducation">Education</a></li>
		<li><a href="techskills">Existing Skills</a></li>
		<li><a href="experience">Experience</a></li>
		<li><a href="preference">Work Preference</a></li>
		<li><a href="password">Change Password</a></li>
	  </ul>
   </li>
    <li class='has-sub'><a class='active'  href='javascript:void(0)'>Announcements</a>
    	<ul>
    		<li><a href="announcement">Job Announcement </a></li>
   	<li><a href="workshop">Workshops & Seminars</a></li>
    	</ul>
    </li>
    <li class='has-sub'><a href='javascript:void(0)'>Skills</a>
    	<ul>
    		<li><a href="mycourse">My Skills</a></li>
			<li><a href="tech">Technical Skills</a></li>
			<li><a href="nontech">Non-Technical Skills</a></li>
			<li><a href="schedulexams">Scheduled Exams</a></li>
			<li><a href="pastexam">Past Exams</a></li>
    	</ul>
    </li>
    <li class='has-sub'><a href='javascript:void(0)'>Interviews</a>
    	<ul>
    		<li><a href="calletter">Interview Calls</a></li>
   	<li><a href="schedueleinterview">Scheduled Interviews</a></li>
			<li><a href="passedinterviews">Passed Interviews</a></li>
    	</ul>
    </li>
     
    
</ul>
</div>
		</div>
	</div> -->
	<div class="row clearfix" id="main_body">
			<div class="col-md-12 column" style="padding: 0px">
				<div class="container" style="background-color:white;border-right: 6px solid grey;border-left: 6px solid grey">
					<div class="row" >
			<div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" style="height: 510px;">
				<div class="row" style="min-height: 450px;margin-top:10px">
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<%@include file="/WEB-INF/common/userwidget.jsp"%>
					</div>
					<!-- <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"
						style="margin-top: 2px;">
						<div class="row" style="margin-left:-9px;">
						<div class="panel panel-primary"><div class="panel-heading">Announcements</div><div class="panel-body">
						<div class="list-group">
							<a href="javascript:void(0)" class="list-group-item "
								style="cursor: default;"> <span
								class="glyphicon glyphicon-bullhorn"></span> Announcements
							</a> <a href="announcement" class="list-group-item active"> <span
								class="glyphicon"></span> Job announcements
							</a> <a href="workshop" class="list-group-item"> <span
								class="glyphicon"></span> Workshops & Seminars
							</a>
						</div></div></div>
						</div>
					</div> -->
				</div>
			</div>
			<div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">
				<div class="row" style="min-height: auto">
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"
						style="min-height: auto">
						<div class="row">
							<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
								<ul class="breadcrumb">
									<li><a href="personal"><span class="glyphicon glyphicon-home"></span></a></li>
									<li>Job announcements</li>
								</ul>
							</div>
							<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"
								style="min-height: 55px; text-transform: initial; display: none;"
								id="message-div">
								<div class="alert alert-success alert-dismissible" role="alert"
									style="display: none; text-transform: initial;">
									<button type="button" class="close" data-dismiss="alert">
										<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
									</button>
									<strong>Warning!</strong> Better check yourself, you're not
									looking too good.
								</div>
								<div class="alert alert-info alert-dismissible" role="alert"
									style="display: none; text-transform: initial;">
									<button type="button" class="close" data-dismiss="alert">
										<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
									</button>
									<strong>Warning!</strong> Better check yourself, you're not
									looking too good.
								</div>
							<!-- 	<div class="alert alert-warning alert-dismissible" role="alert"
									style="text-transform: initial;">
									<button type="button" class="close" data-dismiss="alert">
										<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
									</button>
									<span class="glyphicon glyphicon-warning-sign"></span> You
									don't have an announcement.
								</div> -->
									<div class="alert alert-info alert-dismissible" id="msg"
									role="alert"
									style="display: none; text-align: center; font-size: 20px;">
									You	have no announcement.</div>
								<div class="alert alert-danger alert-dismissible" role="alert"
									style="display: none; text-transform: initial;">
									<button type="button" class="close" data-dismiss="alert">
										<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
									</button>
									<strong>Warning!</strong> Better check yourself, you're not
									looking too good.
								</div>
							</div>
							<hr style="display: none;" />
							<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"
								style="border: 0;" id="dandanakka">
								<div class="row" style="min-height:525px;">
									<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
										<span style="display:none;" id="size">${listsize}</span>
										<div class="panel panel-primary" id="jobannouncement">
											<div class="panel-heading">
												<strong style="color: white;">Job announcements</strong>
											</div>
											 <c:forEach var="list" varStatus="counter" items="${announcement}">
											<div class="panel-body" id="div${counter.count}" style=" border-bottom:1px solid #EEEEEE;padding:5px;font-size:15px;">
											<div class="row center-block" id="row" style="background: white;color:black;">
											<div style="padding:2px;font-size:17px;font-weight:bold;" id="">${list.companyName}</div>
											<div class="col-lg-5 col-md-6 col-sm-12 col-xs-12">
											<div style="padding:2px;"><div style=width:28%;display:inline-block;color:#1ABC9C;>
											Position<span style=float:right;>:&nbsp;</span></div>
											<div style="display: inline-block;vertical-align: top;width:70%;">
											${list.postion}</div></div>
											<div style="padding:2px;">
											<div style="width:28%;display:inline-block;color:#1ABC9C;">Experience<span style="float:right;">:&nbsp;</span></div>
											<div style="display:inline-block;word-break" id="experience">${list.experience}</div></div>
											<div style="padding:2px;"><div style="width:28%;display:inline-block;color:#1ABC9C;">Job location<span style="float:right;">:&nbsp;</span></div>
											<div style="display:inline-block;" id="location">${list.jobLocation}</div>
											</div>
											</div>
											<div class="col-lg-7 col-md-6 col-sm-12 col-xs-12">
											<div class="row"><div class="col-lg-7 col-md-7 col-sm-12 col-xs-12">
											<div style="display:inline-block;color:#1ABC9C;">Skills<span style="float:right;">:&nbsp;</span></div>
											<div style="display:inline-block;vertical-align:top;width:75%;" id="date">${list.skills}</div></div> 
											<div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
											<div style="width:38%;display:inline-block;color:#1ABC9C;">Status<span style="float:right;">:&nbsp;</span></div>
											<span style="display:inline-block;font-size:14px;" id="date"class="label label-success status">${list.acceptStatus.toUpperCase()}</span></div></div> 
											</div>
											
											</div>
											
											<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
											<div class="form pull-right">
											<input type="text" name="anno" value="${list.announcementid}" class="hidden" />
											<input type="button" class="btn btn-primary view" value="View details" />
											</div>
									     	</div>
											<hr/>	
											</div>	</c:forEach>
											
											
											<div class="panel-footer" style="height:38px;">
												<div class="container" style="width: 100%;">
													<div class="row text-center" style="width: 100%;">
														
														<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
															<div class="pull-left">Showing <span id="from"></span> to <span id="to"></span>
															of <span id="total"></span> Entries</div>
															<ul class="pagination pull-right"  style="margin-top:-4px;" id="pagination-nav">
                                                           </ul>
														</div>
													
													</div>
												</div>
											</div></div>
										</div>
							
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
				
				
				
				
			</div>
		</div>
	</div>

		
	</div>	
<%@include file="/WEB-INF/common/footer_back.jsp"%>
<input type="text" id="alertvalue" style="display: none;">
	<input type="text" id="alertdata" style="display: none;">

<script src="js/bootstrap.min.js"></script>
<script src="js/menu.js"></script>
<script>
$(document).ready(function(){
	count=0;
	
	$("html, body").animate({ scrollTop: 160 }, 1000);
	
	
	if ($("#size").text() === "0") {
		$("#jobannouncement").hide();
		$("#message-div").show();
		$("#msg").show();
	} else {
		$("#jobannouncement").show();
		$("#msg").hide();
	}
	$(".status").each(function(){
		count++;
	});
	 var total=count;
	 var noofdiv=4;
	pagination();
    function pagination()
    {
	 for(var k=0;k<Math.ceil((total/noofdiv)+2);k++)
    	 {
		  $("#pagination-nav").append(" <li><a href=\"javascript:void(0);\"></a></li>");
          $("#pagination-nav li:nth-child("+(k+1)+") a").html(k);
          $("#pagination-nav li:nth-child(1) a").html("<");
          $("#pagination-nav li:nth-child("+Math.ceil((total/noofdiv)+2)+") a").html(">");
         
         }
	 
	 for(var k=1;k<=count;k++)
	 {
		 if(k>4) 
	     {
			 $("#div"+k).hide();
	     }
	 }
	 
	 
	 
	 $("#from").html("1");
     $("#total").html(total);	
     $("#pagination-nav li").removeClass("active");
     $("#pagination-nav li:nth-child(2)").addClass("active");
     var getmaxdata=$("#pagination-nav li:nth-child(2) a").text();
     var max=(getmaxdata*noofdiv);
     if(max>total)
	 {
	 $("#to").html(total);
	 }
 else
	 {
	 $("#to").html(max);
	 }
     $("#pagination-nav li a").click(function(){
         var data=$(this).html();
        
         if(data!= $("#pagination-nav li:nth-child("+Math.ceil((total/noofdiv)+2)+") a").html() && data!= $("#pagination-nav li:nth-child(1) a").html())
         {
        	 $("#pagination-nav li").removeClass("active");
             $(this).parent("li").addClass("active");
             var min=(data*noofdiv)-(noofdiv-1);
             var max=(data*noofdiv);
             if(min<=total)
                 {
                 $("#from").html(min);
                 }
             if(max>total)
        	 {
        	 $("#to").html(total);
        	 }
         else
        	 {
        	 $("#to").html(max);
        	 }
         $("#total").html(total);
             for(var i=1;i<=total;i++){
                 if(i>=min && i<=max){
                	 $("#div"+i).show();
                 }
                 else{
                	 $("#div"+i).hide();
                 }
             }
                
         }
         else
             {
             var current=parseInt($("#pagination-nav .active a").html());
             var data1=$(this).html();
             if(current!=Math.ceil((total/noofdiv)) && current>=1 && data1==$("#pagination-nav li:nth-child("+Math.ceil((total/noofdiv)+2)+") a").html())
 			{
             $("#pagination-nav li:nth-child("+(current+1)+")").removeClass("active");
             $("#pagination-nav li:nth-child("+(current+2)+")").addClass("active");
             var min=((current+1)*noofdiv)-(noofdiv-1);
             var max=((current+1)*noofdiv);
             if(min<=total)
             {
             $("#from").html(min);
             }
             
             if(max>total)
        	 {
        	 $("#to").html(total);
        	 }
         else
        	 {
        	 $("#to").html(max);
        	 }
         $("#total").html(total);
               for(var i=1;i<=total;i++){
                   if(i>=min && i<=max){
                	   $("#div"+i).show();
                   }
                   else{
                	   $("#div"+i).hide();
                   }
               }
            
               }
             else if(current!=1 && current < Math.ceil((total/noofdiv)+1) && data1==$("#pagination-nav li:nth-child(1) a").html()){
                 $("#pagination-nav li:nth-child("+(current+1)+")").removeClass("active");
                 $("#pagination-nav li:nth-child("+(current)+")").addClass("active");
                 var min=((current-1)*noofdiv)-(noofdiv-1);
                 var max=((current-1)*noofdiv);
                 if(min<=total){
                 $("#from").html(min);
                 }
                 if(max>total)
            	 {
            	 $("#to").html(total);
            	 }
             else
            	 {
            	 $("#to").html(max);
            	 }
             $("#total").html(total);
                 for(var i=1;i<=total;i++){
                	 if(i>=min && i<=max){
                  	   $("#div"+i).show();
                     }
                     else{
                  	   $("#div"+i).hide();
                     }
                 }
                 
                 }
             }






         
     });
    }
    
    $(".view").click(function(){
    	var id1 = $(this).prev('input').val();
    	 $.post("announceid",{id:id1})
    		.done(function(){
    	       	window.setTimeout(
             function() {
    	   				 window.location.href="announcement-detail"; 
    	   				}, 300);
    			
    			})
    });
    $(".status").each(function(){
    	
   
    if($(this).text()==="APPLIED")
    	{
    	}
    else if($(this).text()==="DECLINE")
    	{
    	$(this).removeClass("label label-success").addClass("label label-danger").text("Decline");
    	}
    else
    	{
    	$(this).removeClass("label label-success").addClass("label label-danger").text("Not Applied");
    	}
    });
	$(".announcementactive").addClass("active");
    
});
</script>
</body>

</html>