<%-- 
    Document   : Project Details
    Author     : Vengatesh K
--%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<%@include file="/WEB-INF/common/taglibs.jsp"%>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="viewport" content="width=device-width">
<link rel="icon" type="img/ico" href="images/ex.ico">
<link href="css/normalize.css" rel="stylesheet">
<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/style.css" rel="stylesheet">
<link href="css/menu.css" rel="stylesheet">
<link rel="stylesheet" href="css/bootstrapValidator.css" />
<link rel="stylesheet" href="css/bootstrap-table.min.css">
<link href="css/font-awesome.css" rel="stylesheet">
<style>
.pp{
padding-top:5px;
}
#main_body { 
  background: url("images/collage.jpg") no-repeat center center fixed; 
  -webkit-background-size: cover;
  -moz-background-size: cover;
  -o-background-size: cover;
  background-size: cover;

}
#techskills .form-control-feedback {
	top: 22px;
	right: -25px;
}
</style>
<script src="js/jquery.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
 
  ga('create', 'UA-58259459-1', 'auto');
  ga('send', 'pageview');
 </script>
<title>TalentEx - Project Studies</title>
</head>
<body>
<div class="container-fluid">
<!-- col-lg-  col-md-  col-sm-  col-xs- -->
<!-- col-lg-pull-  col-md-pull-  col-sm-pull-  col-xs-pull- -->
<!-- col-lg-push-  col-md-push-  col-sm-push-  col-xs-push- -->
<!-- visible-lg-  visible-md-  visible-sm-  visible-xs- --> 
<!-- hidden-lg hidden-md hidden-sm hidden-xs -->
<!-- <img src="" 
	data-position="" data-in="" data-delay="" data-step="" data-out=""> -->
	<!-- <p class="small"
		data-position="" data-in="" data-delay="" data-step="" data-out="">
								
	</p> -->





	<%@include file="/WEB-INF/common/header_back.jsp"%>
	<!-- <div class="row clearfix">
		<div class="col-md-12 column" style="border-bottom: 2px solid #e3e3e3;padding-bottom:3px">		
			<div id='cssmenu' class="pull-right" style="margin-right: 15px;">
<ul>
   <li><a  href='dashboard' id="loginbut">Dashboard</a></li>
   <li class='has-sub'><a class='active' href='javascript:void(0)'>Profile</a>
      <ul>
		<li><a href="personal">Personal</a></li>
		<li><a href="address">Address</a></li>
		<li><a href="education">Education</a></li>
		<li><a href="techskills">Existing Skills</a></li>
		<li><a href="experience">Experience</a></li>
		<li><a href="preference">Work Preference</a></li>
		<li><a href="password">Change Password</a></li>
	  </ul>
   </li>
    <li class='has-sub'><a href='javascript:void(0)'>Announcements</a>
    	<ul>
    		<li><a href="announcement">Job Announcement </a></li>
   	<li><a href="workshop">Workshops & Seminars</a></li>
    	</ul>
    </li>
    <li class='has-sub'><a href='javascript:void(0)'>Skills</a>
    	<ul>
    		<li><a href="mycourse">My Skills</a></li>
			<li><a href="tech">Technical Skills</a></li>
			<li><a href="nontech">Non-Technical Skills</a></li>
			<li><a href="schedulexams">Scheduled Exams</a></li>
			<li><a href="pastexam">Past Exams</a></li>
    	</ul>
    </li>
    <li class='has-sub'><a href='javascript:void(0)'>Interviews</a>
    	<ul>
    		<li><a href="calletter">Interview Calls</a></li>
   	<li><a href="schedueleinterview">Scheduled Interviews</a></li>
			<li><a href="passedinterviews">Passed Interviews</a></li>
    	</ul>
    </li>
     
    
</ul>
</div>
		</div>
	</div> -->
	<%@include file="/WEB-INF/common/menu.jsp"%>
	<div class="row clearfix" id="main_body">
			<div class="col-md-12 column" style="padding: 0px">
				<div class="container" style="background-color:white;border-right: 6px solid grey;border-left: 6px solid grey">
				
				<div class="row" style="min-height: 450px; border: solid 0px black;">
			<div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" style="">
				<div class="row" style="min-height: 450px;margin-top:10px">
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<%@include file="/WEB-INF/common/userwidget.jsp"%>
					</div>
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"
						style="margin-top: 3px;min-height: 400px;">
						<div class="row" style=margin-left:-9px;">
						<div class="panel panel-primary" style="width: 100%;margin: auto;">
                        <div class="panel-heading">Profile</div>
                        <div class="panel-body">
						<div class="list-group">
							<a href="personal" class="list-group-item"> <span
								class="glyphicon glyphicon-user"></span> Personal <span id="perdetails"
								class="text-danger pull-right glyphicon-asterisk"><span style="font-size:10px;">(mandatory)</span></span>
							</a> <a href="address" class="list-group-item"> <span
								class="glyphicon glyphicon-road"></span> Address <span id="address"
								class="text-danger pull-right glyphicon-asterisk"><span style="font-size:10px;">(mandatory)</span></span>
							</a> <a href="education" class="list-group-item"> <span
								class="glyphicon glyphicon-book"></span> Education <span id="education"
								class="text-danger pull-right glyphicon-asterisk"><span style="font-size:10px;">(mandatory)</span></span>
							</a> <a href="javascript:void(0)" class="list-group-item active">
								<span class="glyphicon glyphicon-star-empty"></span> Skills 
							</a> <a href="experience" class="list-group-item"> <span
								class="glyphicon glyphicon-list-alt"></span> Experience 
							</a> <a href="preference" class="list-group-item"> <span
								class="glyphicon glyphicon-list-alt"></span> Work Preference 
							</a> <a href="password" class="list-group-item"> <span
								class="glyphicon glyphicon-off"></span> Change Password
							</a>
						</div></div></div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-lg-9 col-md-9 col-sm-12 col-xs-12" style="">
				<div class="row" style="height: auto">

					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"
						style="height: auto">
						<div class="row">
							<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"
								style="display: none;">

								<div class="alert alert-success alert-dismissible" role="alert"
									style="display: none">
									<button type="button" class="close" data-dismiss="alert">
										<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
									</button>
									<strong>Warning!</strong> Better check yourself, you're not
									looking too good.
								</div>
								<div class="alert alert-info alert-dismissible" role="alert"
									style="display: none">
									<button type="button" class="close" data-dismiss="alert">
										<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
									</button>
									<strong>Warning!</strong> Better check yourself, you're not
									looking too good.
								</div>
								<div class="alert alert-warning alert-dismissible" role="alert"
									style="display: none">
									<button type="button" class="close" data-dismiss="alert">
										<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
									</button>
									<strong>Warning!</strong> Better check yourself, you're not
									looking too good.
								</div>
								<div class="alert alert-danger alert-dismissible" role="alert"
									style="display: none">
									<button type="button" class="close" data-dismiss="alert">
										<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
									</button>
									<strong>Warning!</strong> Better check yourself, you're not
									looking too good.
								</div>
							</div>
							<hr style="display: none;" />

							<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
								<div class="row">
									<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"
										style="border: 0px solid;">
										<div class="breadcrumb">
											<li><a href="personal"><span
													class="glyphicon glyphicon-home"></span></a></li>
											<li class="active">Profile</li>
											<li class="active">Skills</li>
											<li class="active">Project / Internship</</li>
										</div>
									</div>
								</div>

								<div class="panel panel-primary">
									<div class="panel-heading">Project / Internship Details</div>
									<div class="panel-body">
										<div class="row">
											<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
												<ul class="nav nav-tabs" role="tablist">
													<li><a href="techskills">Technical</a></li>
													<li><a href="langskills">Language</a></li>
													<li class="active"><a href="javascript:void(0)">Project / Internship</a></li>
												</ul>
											</div>
											<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
												<div class="row">
													<div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"
														style="border-right: 2px solid gainsboro">
														<hr>
														<h5 class="text-primary">PROJECT / INTERNSHIP</h5>
														<hr>

														<form id="proint" action="projectskill" method="post">
															<div class="form-group">
																<h5>
																	<span class="text-danger">*</span>Project Title / Internship name:
																</h5>
																<div class="input-group" id="prin">
																	<!-- <span class="input-group-addon"></span> -->
																	<input name="prointname" class="form-control txbx"
																		id="tname" style="border-radius: 4px;" />

																		

																</div>
															</div>
															<div class="form-group">
																<h5>
																	<span class="text-danger">*</span>Company name:
																</h5>
																<div class="input-group" id="prin">
																	<!-- <span class="input-group-addon"></span> -->
																	<input name="companyname" class="form-control txbx"
																		id="cname" style="border-radius: 4px;" />

																		

																</div>
															</div>
															<div class="form-group">
															<h5>
																	<span class="text-danger">*</span>Project / Internship Description:
																</h5>
															<textarea class="form-control txbx" name="prointdesc" id="dname" rows="3"></textarea>
															</div>
															<div class="form-group">
																<h5>
																	<span class="text-danger">*</span>Project / Internship Duration:
																</h5>
																<select class="form-control input-group-sm txbx"
																	name="prointdur" id="pname">
																	<option selected disabled value="">Duration..</option>
																	<option value="1 month">1 month</option>
																	<option value="2 months">2 months</option>
																	<option value="3 months">3 months</option>
																	<option value="4 months">4 months</option>
																	<option value="5 months">5 months</option>
																	<option value="6 months">6 months</option>
																	<option value="7 months">7 months</option>
																	<option value="8 months">8 months</option>
																	<option value="9 months">9 months</option>
																	<option value="10 months">10 months</option>
																	<option value="11 months">11 months</option>
																	<option value="1 year">1 year</option>
																	<option value="m year">More than a year</option>
																</select>
															</div>
															<input type="hidden" id="proid" name="projectid"/>
															
															<input 	type="submit" id="save" value="Add" class="btn btn-primary pull-right"  />
																
														</form>
													</div>
                                                <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12" style="margin-top:5px;" id="hid">
                                                <div class="panel panel-primary">
                                                <div class="panel-heading">
                                                Project / Internship Details
                                                </div>
                                                
                                                <div class="panel-body">
                                                
                                               <span id="details">Add Your Project or Intership Details</span>
                                                <c:forEach var="project" varStatus="counter"items="${projectskill}">
														<div id="div${counter.count}" class="skill" style="border-left:3px solid #EEEEEE; padding-left:5px;">
														<div><span><b>Project Title:</b></span>&nbsp;&nbsp;<span style="word-break:break-all" id="title${counter.count}">${project.projectTitle}</span></div>
														<div ><span><b>Company Name:</b></span>&nbsp;&nbsp;<span style="word-break:break-all" id="name${counter.count}">${project.companyName}</span></div>
														<div>
														<span>
														<b>Project Decription:</b></span>
														<span style="word-break:break-all" id="des${counter.count}">${project.projectDescription}</span>
														</div>
														<div><span><b>Duration:</b></span>&nbsp;&nbsp;<span id="time${counter.count}">${project.timePeriod}</span></div>
														
													    </div>
														
														<div id="id${counter.count}" style="display:none">${project.projectSkillId}</div>
														
												</c:forEach>
														<hr style="margin-top:20px"> 
														
														<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 hide1" > 
                                                            Showing <span id="from"></span>  of <span id="total"></span> Entries
                                                         </div>
                                                                                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                                                                    <ul class="pagination"  style="margin-top:10px;" id="pagination-nav">
                                                                                                    </ul>
                                                                                                </div>
														<input type="button" value="Edit" class="btn btn-primary pull-right" style="margin-top: 10px;" id="edit"/> 
														<input type="button" value="Delete" class="btn btn-danger pull-right" style="margin-top: 10px; margin-right: 15px;" id="delete"/>
													</div>
												</div>
												<a href="experience"><button style="margin-right:10px;" type="button" id="skip"  class="btn btn-default pull-right">Skip & Continue</button></a>
											</div>
										</div>
										<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"
											style="border: 0px solid black;">
											<p class="text-danger">
																<i><span class="text-danger">( * )</span> Indicates required field</i>
															</p>
																					</div>
										<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"
											style="border: 0px solid black; height: 50px"></div>
									</div>
								</div>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
				
				</div>
				
				
				
			</div>
		</div>
	</div>

		<%@include file="/WEB-INF/common/footer_back.jsp"%>
	</div>	
	
<input type="text" id="alertvalue" style="display: none;">
	<input type="text" id="alertdata" style="display: none;">
	<div id="list">
		<ul style="display: none;" id="oplist">

			<c:forEach var="courses" items="${courselist}">
				<li class="uli">${courses.courseName}</li>
				<li class="uli1">${courses.id}</li>
			</c:forEach>
		</ul>
	</div>
<script src="js/bootstrap.min.js"></script>
<script src="js/menu.js"></script>
<script src="js/bootstrapValidator.js"></script>
<script src="js/bootstrap-table.min.js"></script>
<script src="js/typehead.js"></script>
<script>
            $(document).ready(function() {
                var count=0;
                $(".skill").each(function(){
count++;

                    });
               

                var total=count;
                var noofdiv=1;
                function pagination()
                {
                    
            	 for(var k=0;k<Math.ceil((total/noofdiv)+2);k++)
                	 {
            		  $("#pagination-nav").append(" <li><a href=\"javascript:void(0);\"></a></li>");
                      $("#pagination-nav li:nth-child("+(k+1)+") a").html(k);
                      $("#pagination-nav li:nth-child(1) a").html("<");
                      $("#pagination-nav li:nth-child("+Math.ceil((total/noofdiv)+2)+") a").html(">");
                      if(k>noofdiv) 
                      {
                          $("#div"+k).hide();
                      }
                     }
            	 
            	 $("#from").html("1");
                 $("#to").html(noofdiv);
                 $("#total").html(total);	
                 $("#pagination-nav li").removeClass("active");
                 $("#pagination-nav li:nth-child(2)").addClass("active");
                 $("#pagination-nav li a").click(function(){
                     var data=$(this).html();
                     
                     if(data!= $("#pagination-nav li:nth-child("+Math.ceil((total/noofdiv)+2)+") a").html() && data!= $("#pagination-nav li:nth-child(1) a").html())
                     {
                    	 $("#pagination-nav li").removeClass("active");
                         $(this).parent("li").addClass("active");
                         var min=(data*noofdiv)-(noofdiv-1);
                         var max=(data*noofdiv);
                         if(min<=total)
                             {
                             $("#from").html(min);
                             }
                         for(var i=1;i<=total;i++){
                             if(i>=min && i<=max){
                            	 $("#div"+i).show();
                             }
                             else{
                            	 $("#div"+i).hide();
                             }
                         }
                            
                     }
                     else
                         {
                         var current=parseInt($("#pagination-nav .active a").html());
                         var data1=$(this).html();
                         if(current!=Math.ceil((total/noofdiv)) && current>=1 && data1==$("#pagination-nav li:nth-child("+Math.ceil((total/noofdiv)+2)+") a").html())
             			{
                         $("#pagination-nav li:nth-child("+(current+1)+")").removeClass("active");
                         $("#pagination-nav li:nth-child("+(current+2)+")").addClass("active");
                         var min=((current+1)*noofdiv)-(noofdiv-1);
                         var max=((current+1)*noofdiv);
                         if(min<=total)
                         {
                         $("#from").html(min);
                         }
                         
                           $("#total").html(total);
                           for(var i=1;i<=total;i++){
                               if(i>=min && i<=max){
                            	   $("#div"+i).show();
                               }
                               else{
                            	   $("#div"+i).hide();
                               }
                           }
                        
                           }
                         else if(current!=1 && current < Math.ceil((total/noofdiv)+1) && data1==$("#pagination-nav li:nth-child(1) a").html()){
                             $("#pagination-nav li:nth-child("+(current+1)+")").removeClass("active");
                             $("#pagination-nav li:nth-child("+(current)+")").addClass("active");
                             var min=((current-1)*noofdiv)-(noofdiv-1);
                             var max=((current-1)*noofdiv);
                             if(min<=total){
                             $("#from").html(min);
                             }
                            
                             $("#total").html(total);
                             for(var i=1;i<=total;i++){
                            	 if(i>=min && i<=max){
                              	   $("#div"+i).show();
                                 }
                                 else{
                              	   $("#div"+i).hide();
                                 }
                             }
                             
                             }
                         }






                     
                 });
                }

if(count>=1)
	{
	pagination();
	 $("#details").hide();
	}
else
	{
	$(".text-left").hide();
	$("#edit").hide();
	$("#delete").hide();
	$(".hide1").hide();
	}
	
$(document).on("click","#edit",function(){
	  $('#proint').data('bootstrapValidator').resetForm();
	 var current=parseInt($("#pagination-nav .active a").html());
$("#save").val("Update").removeClass("btn-primary").addClass("btn-success");

$("#tname").val($("#title"+current).text()).trigger("change");
$("#cname").val($("#name"+current).text()).trigger("change");
$("#dname").val($("#des"+current).text()).trigger("change");
$("#pname").val($("#time"+current).text()).trigger("change");
$("#proid").val($("#id"+current).text());
$('#proint').bootstrapValidator('revalidateField', 'prointname');
$('#proint').bootstrapValidator('revalidateField', 'companyname');
$('#proint').bootstrapValidator('revalidateField', 'prointdesc');

   });
                 
               

                $('#proint').bootstrapValidator({
                    feedbackIcons: {
                        valid: 'glyphicon glyphicon-ok',
                        invalid: 'glyphicon glyphicon-remove',
                        validating: 'glyphicon glyphicon-refresh'
                    },
                    fields: {
                    	prointname: {
                            message: 'The Skill is not valid',
                            validators: {
                                notEmpty: {
                                    message: 'The Project name is required and cannot be empty'
                                }
                            }
                        }, companyname: {
                            message: 'The Technology Level is not valid',
                            validators: {
                                notEmpty: {
                                    message: 'The Company name is required and cannot be empty'
                                }
                            }
                        }, prointdesc: {
                            message: 'The course type is not valid',
                            validators: {
                                notEmpty: {
                                    message: 'The Project description is required and cannot be empty'
                                },
                                stringLength: {
              						max: 200,
            						message: 'The Description must have 200 Characters'
            					}
                            }
                        }, prointdur: {
                            message: 'The course type is not valid',
                            validators: {
                                notEmpty: {
                                    message: 'The Project duration is required and cannot be empty'
                                }
                            }
                        }
                    }



                }).on('status.field.bv', function(e, data) {
                    if (data.bv.isValid()) {
                        data.bv.disableSubmitButtons(false);
                        $('#save').removeClass('btn-default').addClass('btn-primary').attr('type', 'submit');
                    }
                    else {
                        data.bv.disableSubmitButtons(true);
                    }
                });
                             
                $('.close').click(function() {
        	        $('.alert').fadeOut('slow');
        	    });



        	  
         	    
        	    $(document).on("click","#delete",function(){
       	    	 var current=parseInt($("#pagination-nav .active a").html());
$.ajax({
	type:"POST",
	url:"delproskills",
	data:{"projectid":$("#id"+current).text()},
	done:function(){
	window.location.href="proint";
		},
		error:function(){
			window.location.href="proint";
			}


});


          	    });
        		$(".txbx").change(function() {
        			var id = "#" + $(this).attr("id");
        			$(id).attr("data-bv-excluded", "false");
        		});
        		$(".profileactive").addClass("active");
            });
        </script>

</body>

</html>